<!DOCTYPE html>
<html><head><title>GAG Stock Scanner</title></head>
<body>
  <h1>Grow A Garden Scanner</h1>
  <div id="results">Loadingâ€¦</div>
  <script>
    const API = '/stock.json'; // Hosted JSON file
    const rareRarities = ['Legendary', 'Mythical', 'Divine'];
    const targetSeeds = ['Bamboo'];
    const targetGear = ['Master Sprinkler'];

    async function scan() {
      const res = await fetch(API);
      const data = await res.json();
      const results = [];

      data.seeds.forEach(s => {
        if (s.stock > 0 && (targetSeeds.includes(s.name) || rareRarities.includes(s.rarity))) {
          results.push({ ...s, type: 'Seed' });
        }
      });
      data.gear.forEach(g => {
        if (g.stock > 0 && (targetGear.includes(g.name) || rareRarities.includes(g.rarity))) {
          results.push({ ...g, type: 'Gear' });
        }
      });
      data.egg.forEach(e => {
        if (e.stock > 0 && rareRarities.includes(e.rarity)) {
          results.push({ ...e, type: 'Egg' });
        }
      });

      const el = document.getElementById('results');
      el.innerHTML = results.length
        ? results.map(i => `<div><b>${i.name}</b> (${i.type}) x${i.stock}</div>`).join('')
        : '<p>No target items in stock.</p>';
    }

    scan();
    setInterval(scan, 30000);
  </script>
</body></html>
